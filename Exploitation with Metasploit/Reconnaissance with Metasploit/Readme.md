# ðŸ›°ï¸ Reconnaissance with Metasploit

Metasploit isn't just for exploitation â€” it also contains powerful tools for **reconnaissance**. While we've previously used tools like **Nmap** and **WhatWeb** to gather information on targets, Metasploit's **auxiliary modules** offer a flexible and modular way to perform similar scans directly from within the framework.

---

## ðŸ“¦ What Are Auxiliary Modules?

Auxiliary modules are a versatile category in Metasploit, often described as a **"grab bag"** of useful functionality. These modules **do not exploit vulnerabilities** but provide essential support functions such as:

- ðŸ› ï¸ **Service and port scanning**
- ðŸ” **Password brute-forcing**
- ðŸ§ª **Vulnerability detection**
- ðŸ” **Information gathering**

Many of the tools used during the **reconnaissance phase** fall under this category.

---

## ðŸ“ Directory Location

To explore auxiliary scanning modules manually, navigate to:

```bash
cd /usr/share/metasploit-framework/modules/auxiliary/scanner/portscan
ls -l
```

This will list various port scanning modules available in Metasploit.

---

## ðŸ”Ž Example Scanning Modules

Metasploit includes several port scanning modules within the `auxiliary/scanner/portscan` directory:

| Module Name               | Description                                 |
|---------------------------|---------------------------------------------|
| `ack`                     | Performs an ACK scan                        |
| `syn`                     | Performs a SYN scan (stealthy)              |
| `tcp`                     | Full TCP connect scan (like `nmap -sT`)     |
| `xmas`                    | Sends packets with PUSH-URG-FIN flags       |

These modules help emulate different types of scans for identifying open ports and live services on a target system.

---

## ðŸš€ Port Scanning with Metasploit

Letâ€™s perform a TCP port scan on a Windows 7 system, similar to how we used **Nmap** earlier.

### ðŸ” Step 1: Search for TCP Port Scanner
```bash
msf5 > search type:auxiliary tcp
```

Youâ€™ll get a list of auxiliary modules related to TCP. Among them, look for:
```
auxiliary/scanner/portscan/tcp
```

### ðŸ“Œ Step 2: Use the TCP Scanner Module
```bash
msf5 > use auxiliary/scanner/portscan/tcp
```

This module performs a **TCP connect scan**â€”equivalent to `nmap -sT`.

### âš™ï¸ Step 3: Configure Required Options
```bash
msf5 > show options
```

Set the **RHOSTS** (target IP) and optionally the **PORTS**:
```bash
msf5 > set RHOSTS 192.168.186.135
msf5 > set PORTS 1-1000
```

Then, run the scan:
```bash
msf5 > run
```

### âœ… Alternate Example:
To scan a Windows 7 system using a specific IP:
```bash
msf5 > set RHOSTS 192.168.0.0
msf5 > run
```

As you can see, the Metasploit port scanning module finds **identical results to the Nmap scan**, making it a powerful built-in alternative for reconnaissance.

---

## ðŸŒ Learn More About TCP Flags

Want to understand how XMAS or ACK scans work?

ðŸ”— [Read more about TCP Flags here](https://www.hackers-arise.com/network-basics)

---

## ðŸ§  Conclusion

Reconnaissance is a critical phase of any penetration test, and Metasploit makes it easy to perform this step using **auxiliary modules**. With built-in scanners for ports, services, and vulnerabilities, you can streamline your workflow inside a single framework.

> âœ… Pro Tip: Combine Metasploit scans with tools like Nmap and Nikto for even deeper coverage.

---

Ready to move from recon to exploitation? Make sure your scanning results guide your next move wisely.
